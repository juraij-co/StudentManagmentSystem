<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.text.*?>

<VBox spacing="20" xmlns:fx="http://javafx.com/fxml" fx:controller="com.juru.StudentsController" style="-fx-padding: 25; -fx-background-color: #f8f9fa;">
    <!-- Header Section -->
    <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-padding: 0 0 10 0;">
        <Button text="← Back to Dashboard" onAction="#goBack" style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 15;" />
        <Label text="Student Management" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #343a40;" />
        <Region HBox.hgrow="ALWAYS" />
        <Button text="+ Add New Student" onAction="#openAddStudentForm" style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 15;" />
    </HBox>

    <!-- Search and Actions Section -->
    <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8; -fx-border-color: #dee2e6; -fx-border-radius: 8;">
        <TextField fx:id="searchField" promptText="Search by name, email, or ID..." style="-fx-pref-width: 300; -fx-padding: 8; -fx-background-radius: 4;" />
        <Button text="Search" onAction="#searchStudent" style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 20;" />
        <Region HBox.hgrow="ALWAYS" />
        <Button text="Export Data" style="-fx-background-color: #17a2b8; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 15;" />
        <Button text="Refresh" style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 15;" />
    </HBox>

    <!-- Filter Section -->
    <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8; -fx-border-color: #dee2e6; -fx-border-radius: 8;">
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Label text="🔍 Filter Students" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #495057;" />
            <Label text="Refine your search using filters below" style="-fx-text-fill: #6c757d; -fx-font-size: 12px;" />
        </HBox>
        
        <HBox spacing="15" alignment="CENTER_LEFT">
            <VBox spacing="5">
                <Label text="Course" style="-fx-font-weight: bold; -fx-text-fill: #495057;" />
                <ComboBox fx:id="courseFilter" promptText="All Courses" style="-fx-pref-width: 180; -fx-padding: 6;" />
            </VBox>
            
            <VBox spacing="5">
                <Label text="Department" style="-fx-font-weight: bold; -fx-text-fill: #495057;" />
                <ComboBox fx:id="departmentFilter" promptText="All Departments" style="-fx-pref-width: 180; -fx-padding: 6;" />
            </VBox>
            
            <VBox spacing="5">
                <Label text="Semester" style="-fx-font-weight: bold; -fx-text-fill: #495057;" />
                <ComboBox fx:id="semesterFilter" promptText="All Semesters" style="-fx-pref-width: 180; -fx-padding: 6;" />
            </VBox>
            
            <Region HBox.hgrow="ALWAYS" />
            
            <VBox spacing="5" style="-fx-padding: 15 0 0 0;">
                <HBox spacing="10">
                    <Button text="Apply Filters" onAction="#applyFilters" style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 20;" />
                    <Button text="Clear All" onAction="#clearFilters" style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-padding: 8 20;" />
                </HBox>
            </VBox>
        </HBox>
    </VBox>

    <!-- Student Table Section -->
    <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 8; -fx-border-color: #dee2e6; -fx-border-radius: 8;">
        <HBox alignment="CENTER_LEFT">
            <Label text="Students List" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #343a40;" />
            <Region HBox.hgrow="ALWAYS" />
            <Label fx:id="recordCount" text="0 students found" style="-fx-text-fill: #6c757d; -fx-font-size: 12px;" />
        </HBox>
        
        <TableView fx:id="studentTable" prefHeight="400" style="-fx-background-radius: 4; -fx-border-color: #e9ecef; -fx-border-radius: 4;">
            <columns>
                <TableColumn text="ID" fx:id="colId" prefWidth="80" style="-fx-alignment: CENTER;" />
                <TableColumn text="Student Name" fx:id="colName" prefWidth="200" />
                <TableColumn text="Email" fx:id="colEmail" prefWidth="220" />
                <TableColumn text="Course" fx:id="colCourse" prefWidth="140" />
                <TableColumn text="Department" fx:id="colDepartment" prefWidth="160" />
                <TableColumn text="Semester" fx:id="colSemester" prefWidth="100" style="-fx-alignment: CENTER;" />
                <TableColumn text="Actions" fx:id="colActions" prefWidth="180" style="-fx-alignment: CENTER;" />
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>
    </VBox>

    <!-- Status Bar -->
    <HBox alignment="CENTER_LEFT" style="-fx-background-color: #e9ecef; -fx-padding: 12; -fx-background-radius: 4;">
        <Label fx:id="statusLabel" text="✅ System ready - Select an action to begin" style="-fx-text-fill: #495057; -fx-font-style: italic; -fx-font-size: 13px;" />
    </HBox>
</VBox>